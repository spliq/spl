# ─────────────────────────────────────────────────────────────────
# SPL Critical Pattern: Hypothesis v2.3
# ─────────────────────────────────────────────────────────────────
# Version: 2.3
# Owner: Spliq team
# License: Apache 2.0
# ─────────────────────────────────────────────────────────────────

version: 2.3
schema: spl.meta-pattern.v2.3
id: "template/hypothesis:v2.3"
kind: template
layer: L1

info:
  title: "Hypothesis (Core)"
  description: "Formulates, tests, and refines testable propositions about the world"
  owners: ["spl-core"]
  tags: ["hypothesis", "scientific-method", "core", "cognitive"]

contract:
  goal: "Formulate testable propositions, design experiments, evaluate evidence, and refine understanding"
  return_format: "markdown with sections: Hypothesis Statement, Experimental Design, Results, Conclusion"
  warnings:
    - "Must be falsifiable"
    - "Must design controlled experiments"
    - "Must be evidence-based"
    - "Must document assumptions"
  context:
    - "Layer 1 core hypothesis template"
    - "Reality-agnostic pattern"
    - "Foundation for scientific reasoning and AGI"
  inputs:
    - name: observation
      type: object
      required: true
      description: "Initial observation or phenomenon to explain"
    - name: prior_knowledge
      type: object
      required: false
      description: "Existing knowledge and theories"
    - name: constraints
      type: object
      required: false
      description: "Experimental constraints and resources"
  outputs:
    - name: hypothesis_result
      type: object
      description: "Hypothesis evaluation results"
      schema:
        hypothesis: string
        experimental_design: object
        results: object
        conclusion: object
        confidence: number

selection:
  preferred_models: []
  preferred_tools: []
  constraints: []

execution:
  steps:
    - "Analyze observation and identify patterns"
    - "Formulate falsifiable hypothesis"
    - "Design controlled experiment"
    - "Execute experiment and collect data"
    - "Analyze results against hypothesis"
    - "Draw conclusions and refine hypothesis"

guarantees:
  success_criteria:
    - "Falsifiability: hypothesis can be proven false"
    - "Testability: experiment design is executable"
    - "Evidence-based: conclusions follow from data"
    - "Reproducibility: experiment can be repeated"
  metrics: []
  rubric:
    pass:
      - "Hypothesis is falsifiable"
      - "Experiment is well-designed"
      - "Conclusions supported by evidence"
      - "Method is reproducible"
    fail:
      - "Unfalsifiable hypothesis"
      - "Flawed experimental design"
      - "Conclusions not supported"
      - "Non-reproducible method"
  validation_hooks:
    pre_validation:
      - "validate_hypothesis_falsifiability"
      - "validate_experimental_design"
    post_validation:
      - "validate_evidence_support"
      - "validate_reproducibility"

content-specifications:
  sections:
    - "Hypothesis statement with assumptions"
    - "Experimental design and methodology"
    - "Results and data analysis"
    - "Conclusion and next hypotheses"

extension_points:
  layer: true
  pattern: true
  reality: true

inheritance:
  invariants:
    falsifiability: "Hypothesis must be falsifiable"
    evidence_based: "Conclusions must be supported by evidence"
    reproducibility: "Method must be reproducible"
  extension-rules:
    allow-additional-fields: true
    immutable-fields: ["falsifiability", "evidence_based", "reproducibility"]

identity:
  domain: "spl.core"
  taxonomy: ["pattern", "hypothesis", "scientific-method", "cognitive"]
  x-reality: ""  # Reality-agnostic (Layer 1)

relations:
  inherits_from: "spl/meta-pattern:v2.3"
  inheritance_mechanism:
    strategy: "extension"
    composition_rules: []
  uses: []
